# BUILDLOG

- 2026-02-06 (Europe/Oslo)
  - Branch: dev
  - Version: 1.17.50-beta.25
  - Summary:
    - Customer logo display: fixed layout with logo on left (120x120px), customer name and description text on right
    - Media files: updated nginx config to serve /media/ files; Django serves media files as fallback
    - CSS: improved customer-header layout with flexbox for better alignment

- 2026-02-06 (Europe/Oslo)
  - Branch: dev
  - Version: 1.17.49-beta.24
  - Summary:
    - Customer logo: added ImageField to Customer model with upload_to="customer_logos/"
    - Customer form: added logo upload field with preview of current logo (if exists)
    - Media files: configured MEDIA_ROOT and MEDIA_URL in settings; added URL routing for media files in development
    - Dashboard: logo displayed next to customer name on dashboard (customer_home.html and fragments)
    - File cleanup: Customer.delete() override to automatically delete logo file when customer is deleted
    - Admin views: updated customer_add and customer_edit to handle request.FILES for logo uploads
    - CSS: added .customer-title and .customer-logo styles for logo display
    - Migration: created 0003_customer_logo.py migration
    - Translations: added Norwegian translation for logo help text
    - Pillow dependency: added Pillow==10.4.0 to requirements.txt for ImageField support
    - Install scripts: updated install.sh and update.sh to install Pillow system dependencies (libjpeg-dev, libpng-dev, zlib1g-dev)

- 2026-02-06 (Europe/Oslo)
  - Branch: dev
  - Version: 1.17.48-beta.23
  - Summary:
    - Login card: centered content horizontally and vertically using flexbox; removed fixed min-height for dynamic sizing
    - Sign in button: replaced rotating conic-gradient spinner with subtle pulsing border animation (box-shadow pulse)
    - Login page footer: added copyright notice on left side ("Copyright © [year] 5echo.io. All rights reserved.")
    - Sign in button: added loading spinner indicator (rotating border) when form is submitted
    - django.po: added "All rights reserved." / "Alle rettigheter reservert." translation

- 2026-02-06 (Europe/Oslo)
  - Branch: dev
  - Version: 1.17.47-beta.22
  - Summary:
    - Files button: added to topbar navigation after Facility with "under development" tooltip
    - Login/register card: fixed min-height (400px login, 500px register) to prevent resizing when filling forms
    - Register page: added footer with version and language selector (matches login page layout)
    - Login/register transitions: fade out animation (300ms) when clicking links; register page expands height and fades in on load
    - django.po: added "Files" / "Filer" translation
    - Fixed: LANGUAGE_SESSION_KEY error (using 'django_language' string directly)
    - Fixed: LanguagePreferenceMiddleware moved after AuthenticationMiddleware

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 1.17.46-beta.21
  - Summary:
    - Login page footer: moved version and language selector to right side together
    - Customer dropdown menu: active customer shown as disabled div (non-clickable) with checkmark; only other customers selectable
    - Login page language dropdown: uses other_languages context (excludes current language) to match avatar menu behavior
    - Language preference sync: custom set_language_custom view saves preference to session; LanguagePreferenceMiddleware applies it; login_view restores preferred language on login
    - Projects button: added to topbar navigation between Dashboard and Facility with "under development" tooltip
    - django.po: added "Projects" / "Prosjekter" translation

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 1.17.45-beta.20
  - Summary:
    - Footer "View Changelog": added document icon to match "About this portal" styling
    - Footer buttons: unified styling for "About this portal" and "View Changelog" (merged CSS classes, consistent hover and layout)
    - Login page footer: further reduced margin-top from 16px to 8px to bring version and language selector much closer to login box

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 1.17.44-beta.19
  - Summary:
    - Customer dropdown menu: rebuilt positioning (removed align-self center from wrapper, changed menu positioning to top: 100% with margin-top: 4px, improved transform animation from -8px to 0)
    - Footer buttons: removed padding (8px 12px → 0) and margin-top to match left side text spacing; hover now only changes color instead of background
    - Login page footer: reduced margin-top from 24px to 16px to bring version and language selector closer to login box

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 1.17.43-beta.18
  - Summary:
    - Tooltip position: moved below buttons (Facility and Service desk) instead of above
    - Customer dropdown menu: improved vertical positioning (reduced top offset from 2px to 4px, transform from -10px to -4px)
    - Footer "About this portal": added book icon back
    - Footer buttons: improved styling with better padding (8px 12px) and hover background effect
    - Footer layout: "View Changelog" moved under "About this portal" in right section
    - Fixed JavaScript linter errors in customer menu onclick handler (using dataset instead of template variable)

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 1.17.42-beta.17
  - Summary:
    - Service desk button: added to topbar-right (before avatar) with message icon; shows "under development" tooltip on hover
    - Custom tooltip component: created for Facility and Service desk buttons (styled to match site design, appears on hover)
    - About this portal: moved from avatar menu to footer (right side)
    - Footer layout: changed from grid to flex with space-between for left/right sections
    - django.po: added "Service desk" translation

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 1.17.41-beta.16
  - Summary:
    - About modal: added "Head developer: Kevin Jung Park" in developer section
    - About button: renamed to "About this portal" (EN) / "Om portalen" (NO); icon changed to book/document icon
    - django.po: added "Head developer" / "Hovedutvikler" translation

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 1.17.40-beta.15
  - Summary:
    - About modal: accessible from avatar menu (all users); shows version, 5echo.io info, developer credits
    - About modal: update check for admins (GitHub main branch comparison); update badge in avatar menu when available
    - Facility: Norwegian translation "Fasilitet" → "Anlegg"
    - portal/views.py: check_updates endpoint for AJAX version check
    - portal/context_processors.py: about_info processor checks GitHub for updates (cached 1h, admin only)

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 1.17.39-beta.14
  - Summary:
    - Norwegian flag: correct SVG (red field, white-outlined blue cross, 22:16)
    - Login page: language selector is a dropdown (all languages, current marked); closes on outside click / mouse leave
    - CHANGELOG: only full releases get version sections; pre-releases stay under Unreleased
    - Sign in button: short pulse border in loop (narrow wedge), no solid glow; dampened hover (brightness 1.08)
    - django.po: "Select language" for login dropdown aria-label

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 1.17.38-beta.13
  - Summary:
    - install.sh: add gettext to apt-get install so msgfmt is available for compilemessages
    - update.sh: if msgfmt missing, install gettext so compilemessages succeeds on existing servers
    - docs/I18N.md: note that gettext is installed by install/update scripts

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 1.17.37-beta.12
  - Summary:
    - update.sh + install.sh: run compilemessages so Norsk works after pull and on fresh install
    - update.sh: comment documents update command (cd /opt/pmg-portal && sudo git pull origin dev && sudo bash scripts/update.sh)
    - SETUP_GUIDE.md: "Updating the app" section with exact command

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 1.17.36-beta.11
  - Summary:
    - Norwegian (Norsk) added: Django i18n (LocaleMiddleware, LOCALE_PATHS, set_language), locale/nb/LC_MESSAGES/django.po with translations
    - Avatar menu: language dropdown shows Norsk and English (with flags); current language not listed in submenu; switch via POST to /i18n/setlang/
    - Login page footer (right): current language + link to switch to other language
    - All portal/accounts templates use {% trans %}/{% blocktrans %}; site_footer and changelog modal translated
    - docs/I18N.md: guide for adding and translating strings (Norsk + English) when building further

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.15.36-beta.10
  - Summary:
    - Topbar: "Portal" renamed to "Dashboard"
    - Avatar menu: Language submenu on click (not hover), close on mouse leave; current language hidden in submenu
    - Login page: version below card (left), language (English + flag) below card (right)
    - Sign in: single moving pulse animation around button when ready; MINOR/PATCH from changelog (0.15.36)

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.15.22-beta.9
  - Summary:
    - Login Sign in: animated circulating green stripe around button when ready
    - Customer dropdown: active customer indicated with checkmark icon
    - Topbar: Facility button (disabled, tooltip "This feature is under development")
    - Avatar menu: Language (English) with UK flag; hover submenu to select English

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.15.22-beta.8
  - Summary:
    - Login: Create account link less bold and centered; Sign in button disabled until email+password filled, green border when ready
    - Register: removed "This creates a user."; Back to login less bold and centered
    - Customer dropdown: more padding on items, no gap between items; dropdown 2px below trigger; topbar align with avatar

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.15.22-beta.7
  - Summary:
    - Admin users: SEARCH label, narrow Search button, Add user 36px, wider search field; user form: checkbox layout, Save/Cancel height, narrow Save
    - Admin roles/customers/access: same toolbar layout (SEARCH, aligned search+button, Add on right); RoleForm for roles add (fix 500); CustomerForm queryset for customers add
    - Admin customer access add: form centered

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.15.22-beta.6
  - Summary:
    - Changelog modal: state-based toggle (data-changelog-view) and setTimeout(220) for panel swap so Hide Full / View Full and reopen work
    - Changelog intro text shortened to "All pre-release builds (alpha, beta, rc) are shown as Unreleased"
    - CHANGELOG Previous changes (pre-0.3.0): one Added, one Changed, one Fixed (no duplicate lists per section)

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.15.22-beta.5
  - Summary:
    - Changelog Unreleased: only one section shown; parse stops at next ## heading (no duplicate Added/Changed/Fixed from Previous changes)
    - Changelog modal: animation on View Full / Hide Full Changelog button (pulse on toggle)
    - BUILDLOG: all changes listed for each build

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.15.22-beta.4
  - Summary:
    - Changelog: all pre-release builds (alpha, beta, rc) = Unreleased until plain MAJOR.MINOR.PATCH; one consolidated [Unreleased], no duplicates
    - Context: rc treated as Unreleased; changelog cleaned and deduplicated

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.15.19-beta.3
  - Summary:
    - Customer dropdown: reduced vertical spacing between list items (min-height 0, padding 4px 12px, line-height 1.25)

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.3.0-beta.2
  - Summary:
    - Added: Changelog modal "View Full Changelog" / "Hide Full Changelog" toggle
    - Added: Profile Account Information edit (pencil) button for email, first name, last name
    - Added: Panel footer on Account Information for "Joined [date]" and future account metadata
    - Added: Migration accounts.0001_sync_username_from_email (User.username from User.email)
    - Changed: Changelog in footer beta versions show version section
    - Changed: Avatar initial: first letter of first name, then last name, then email
    - Changed: Customer dropdown tighter row spacing (min-height 28px, padding 0 12px); wrapper align-self center
    - Changed: Login field labeled "Email"; accepts email or username; login with email preferred
    - Changed: Registration username hidden and set from email; new users username = email
    - Changed: Profile delete account confirm with email instead of username
    - Changed: Install wizard first admin created with username = email; prompt DEFAULT_ADMIN_EMAIL
    - Fixed: Changelog footer not showing latest beta section
    - Fixed: Profile modal Cancel/Escape restoring Account Information tab (including Escape key)

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.3.0-beta.1
  - Summary:
    - Added: Portal at site root (/) with HTMX for no-refresh navigation
    - Added: Custom admin app at /admin/ (User management, Customers & access, Portal management)
    - Added: Customer dropdown in header (avatar-style with search when >4 customers)
    - Added: Superusers can switch to any customer; redirect to / after customer switch
    - Added: Wider layout (1280px) aligned with topbar and footer
    - Added: Admin list filters Staff/Active labels, single-row toolbar, outlined Search button
    - Added: Admin forms card layout, two-column rows (e.g. username|email), aligned Save/Cancel
    - Added: Profile modals Cancel restores active tab to Account Information
    - Changed: Version scheme to beta
    - Changed: Buttons smaller (36px height), vertically centered, Search button outlined
    - Changed: Footer max-width 1280px, responsive padding
    - Changed: Customer dropdown reduced row spacing (min-height 32px, padding 2px 12px)
    - Changed: Topbar customer picker height/alignment for consistent vertical center
    - Changed: Edit (table) button higher contrast hover (blue background)
    - Fixed: Footer width now matches main content (1280px)
    - Fixed: Profile Change password / Delete account Cancel returns to Account Information tab
    - Fixed: Form button vertical alignment across admin forms

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.34
  - Summary:
    - Simplified admin layout CSS and removed conflicting width overrides
    - Standardized admin container flex layout to keep footer at bottom
    - Removed admin nav sidebar toggle and forced sidebar visible
    - Added deeper backend logging (view info, templates, db time, slow queries)
    - Added frontend fetch/XHR logging for portal and admin
    - Expanded debug page with view/template columns and system/Django info

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.33
  - Summary:
    - Removed injected dashboard JS/CSS overrides and relied on shared layout
    - Standardized admin layout containers to flex structure matching portal
    - Unified footer styling and positioning without DOM moves or calc hacks
    - Removed admin nav sidebar toggle and forced sidebar visible

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.27
  - Summary:
    - Completely rebuilt admin dashboard page (index.html) to fix persistent width issue
    - Removed breadcrumbs block to prevent duplicate "Administration" title
    - Added dashboard class to body for targeted CSS styling
    - Enhanced JavaScript to hide breadcrumbs and duplicate h1 titles
    - Added CSS rules to hide breadcrumbs and duplicate titles on dashboard page
    - Dashboard now uses full browser width with centered content-wrapper (max-width: 980px)
    - Fixed duplicate title issue - only one "Administration" heading now displays

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.21
  - Summary:
    - Removed "Change Password" link from avatar dropdown menu (available in profile settings)
    - Password change now opens as a modal popup instead of navigating to a new page
    - Updated profile_view to handle password change form submission
    - Improved user experience with modal-based password change workflow
    - Form submission handled via POST to same profile page

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.20
  - Summary:
    - Added auto-dismiss functionality to toast notifications (5 seconds)
    - Toast notifications now fade out smoothly before removal
    - Avatar dropdown now displays full name (first_name + last_name) instead of username
    - Falls back to username if full name is not set
    - Password change page buttons now match in height (40px)
    - Buttons aligned to the right side of the form
    - Created form-btn and form-btn-primary/secondary CSS classes for consistent button styling
    - Improved user experience with better visual feedback

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.19
  - Summary:
    - Ensured footer is identical on portal and admin pages
    - Fixed avatar dropdown vertical alignment issue
    - Fixed Recent Actions modal button functionality on admin page
    - Added password change and profile settings pages
    - Added Profile Settings and Change Password links to avatar dropdown
    - Improved avatar dropdown close behavior (properly closes on outside click)
    - Enhanced active page highlight with better contrast (blue background, border, shadow)
    - Created profile.html and password_change.html templates
    - Added CustomPasswordChangeForm for styled password change
    - Improved JavaScript event handling for modals and dropdowns

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.18
  - Summary:
    - Fixed footer to always stay at bottom of screen using flexbox sticky footer layout
    - Unified admin and portal UI: admin pages now use same topbar as portal
    - Hidden customer dropdown in admin pages (only visible in portal)
    - Fixed Recent Actions modal button functionality
    - Added toast notifications to portal pages (previously only in admin)
    - Moved toast notifications to bottom right corner
    - Added active page highlighting in topbar menu (Portal/Admin buttons)
    - Created admin base.html template with portal-style topbar
    - Added footer to admin pages matching portal footer
    - Improved CSS for consistent experience across admin and portal

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.17
  - Summary:
    - Fixed 500 error when accessing admin panel
    - Added missing {% load i18n %} tag in admin index.html template
    - Template was using {% blocktrans %} and {% trans %} without loading i18n library
    - Fixed topbar layout: improved flexbox to ensure menu buttons stay on same line as brand
    - Enhanced topbar CSS with flex-shrink and proper spacing
    - Improved user avatar dropdown menu styling

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.16
  - Summary:
    - Redesigned portal topbar layout for better UX
    - Moved menu buttons (Portal, Admin) to left side next to brand name
    - Created user avatar component with dropdown menu
    - Avatar dropdown includes user info, admin panel link (if superuser), and logout
    - Customer dropdown positioned in middle-right of topbar
    - Removed "Your customers" section from portal page (redundant with header dropdown)
    - Improved topbar visual hierarchy and spacing
    - Added smooth animations for avatar dropdown menu
    - Fixed Admin button functionality in topbar

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.15
  - Summary:
    - Fixed Recent Actions sidebar removal (properly overrode sidebar block in index.html)
    - Added customer dropdown selector in admin header for filtering by customer
    - Added customer dropdown selector in portal header for switching between customers
    - Implemented customer switching functionality with session-based storage
    - Created user_customers context processor for template access to customer memberships
    - Updated portal_home view to use session-stored active customer
    - Added switch_customer view with POST handling and session management
    - Styled customer switcher dropdowns in both admin and portal interfaces
    - Created IMPROVEMENTS.md with comprehensive list of improvement ideas and future features
    - Improved user experience for multi-customer users

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.15
  - Summary:
    - Deep dive admin UI/UX redesign: modernized tables, layout, and icons
    - Removed Recent Actions section from admin dashboard
    - Added Recent Actions modal accessible via clock icon in admin header
    - Implemented modern minimalist SVG icons throughout admin (Lucide-inspired)
    - Redesigned tables with zebra striping, improved spacing, and visual hierarchy
    - Enhanced table styling with better borders, shadows, and hover effects
    - Added icon buttons for view, edit, and delete actions in tables
    - Improved modal design with backdrop blur and modern card styling
    - Better icon integration with consistent sizing and spacing

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.14
  - Summary:
    - Complete admin UI/UX redesign with modern minimalist approach
    - Improved navigation, buttons, spacing, and visual hierarchy
    - Better contrast and readability (proper text colors on all backgrounds)
    - Moved changelog button to footer under copyright information
    - Inspired by Django Unfold and modern admin best practices

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.13
  - Summary:
    - Fixed CustomerMembership save error (proper form instance handling)
    - Redesigned admin interface to match Interheart style exactly
    - Compact fonts (12px, 13px, 14px) matching Interheart
    - Clean, subtle design with proper rgba colors
    - Better spacing and visual hierarchy

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.12
  - Summary:
    - Fixed 500 error when saving CustomerMembership (added save_m2m method)
    - Complete redesign of admin interface with modern, clean dark theme
    - Improved spacing, shadows, and visual hierarchy
    - Better button styles with hover effects
    - Enhanced table and form styling

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.11
  - Summary:
    - Completely redesigned admin CSS for better text contrast and visibility
    - Matched admin design to portal color palette exactly
    - Fixed all text color issues (text now visible on all backgrounds)
    - Improved form elements, buttons, tables, and all admin components

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.10
  - Summary:
    - Fixed 500 error in CustomerMembership changelist (removed bulk_add URL reference)
    - Modernized Django admin interface with dark theme CSS
    - Created custom admin base template for styling
    - Admin now matches portal design aesthetic

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.9
  - Summary:
    - Fixed 500 error when adding CustomerMembership (form fields configuration)
    - Fixed form to properly handle add vs edit modes with dynamic fields

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.8
  - Summary:
    - Merged bulk add into regular CustomerMembership add form with multi-select
    - Added customer admin permissions to manage memberships for their customer
    - Updated registration text to reflect PMG and Customer admin access assignment
    - Removed separate bulk add page and templates

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.7
  - Summary:
    - Improved UI/UX: better topbar button styling, admin visibility controls
    - Added bulk add CustomerMemberships feature
    - Simplified footer design
    - Made 5echo.io clickable link
    - Enhanced README.md with detailed installation/update instructions
    - Enhanced README.md with detailed installation/update instructions

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.6
  - Summary:
    - Created initial migrations for portal models (fixes missing database tables)
    - Fixed admin 500 errors with improved error handling
    - Improved changelog modal to show version-specific sections
    - Removed changelog preview text from footer, only button remains
    - Added dark mode scrollbar styling
    - Added logging configuration for better debugging
    - Improved topbar design with better button styling
    - Admin button only visible to superusers
    - Removed Admin link from login page
    - Added bulk add CustomerMemberships feature
    - Made 5echo.io clickable in footer
    - Simplified footer (removed Quick Links)

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.5
  - Summary:
    - Fixed installer interactive mode detection (auto-defaults to update when piped)
    - Improved non-interactive installation experience
    - Added footer with copyright, version, and changelog preview
    - Added changelog modal dialog for viewing full changelog
    - Fixed 500 error when saving Customer in admin (context processor now skips admin pages)
    - Improved admin queryset handling to avoid errors during save operations
    - Fixed context processor file reading errors causing admin save failures
    - Improved portal_home view error handling and query optimization
    - Comprehensive fix for admin 500 errors: improved get_queryset URL detection, added try/except blocks
    - Added logging configuration for better debugging

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.4
  - Summary:
    - Added standalone installer (install.sh) for curl-based installation
    - Installer detects existing installation and offers update/uninstall
    - Update mode preserves database and .env configuration
    - Fixed interactive prompts in non-interactive mode (defaults to update)

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.4
  - Summary:
    - Changed default APP_BIND to 0.0.0.0:8097 for reverse proxy compatibility
    - Fixed static files not loading: added WhiteNoise middleware for production
    - Updated templates to use Django static tag
    - Fixed 500 errors after login and "View site" button
    - Whitelabeled admin site (PMG Portal branding)
    - Improved admin interface with descriptions and counts
    - Added setup guide documentation
    - Fixed 500 error when adding Customer (member_count/link_count methods)

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.3
  - Summary:
    - Set default bind port to 8097
    - Fixed local Postgres bootstrap in install wizard

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.2
  - Summary:
    - Added interactive install wizard with .env prompts
    - Bootstrapped local Postgres during install when applicable
    - Updated default admin credentials to admin/admin and superuser check

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.26
  - Summary:
    - FIXED: Removed MutationObserver that was causing infinite loop
    - JavaScript now removes .colMS class directly (root cause of width: 464px)
    - Adds .colMS-override class instead to maintain styling without width constraint
    - Changed cssText to use assignment (=) instead of append (+=) to avoid conflicts
    - Added CSS support for .colMS-override class
    - This should finally fix the width issue by removing the problematic class entirely

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.25
  - Summary:
    - Changed JavaScript to use cssText instead of setProperty for more aggressive style overrides
    - cssText allows appending !important styles directly without property conflicts
    - Added MutationObserver to watch for style changes and automatically re-apply fixes
    - MutationObserver detects when Django admin CSS sets width back to 464px and fixes it immediately
    - Added setTimeout delay up to 1000ms to catch very late-loading CSS
    - This should finally override Django admin's persistent width: 464px constraint

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.24
  - Summary:
    - FIXED: Django admin sets width: 464px on #content.colMS - added min-width: 100% override
    - Enhanced JavaScript to remove and re-set width property to force override Django admin's fixed width
    - Added min-width: 100% to all #content selectors for dashboard pages
    - This should fix the issue where #content had computed width: 464px instead of 100%

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.23
  - Summary:
    - Added dashboard-grid width fixes in JavaScript
    - Added console.log debugging to show computed styles for troubleshooting
    - JavaScript now logs computed width and max-width for #content and .content-wrapper
    - This helps identify what's actually constraining the width in the browser

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.22
  - Summary:
    - Enhanced JavaScript to fix ALL parent containers: #content, .main, #main, #container
    - Removes float constraints from .colMS class dynamically
    - Added window.load event listener for final fix after all resources load
    - Multiple setTimeout delays (50ms, 100ms, 300ms, 500ms) to catch all CSS loading scenarios
    - Simplified CSS overrides - removed redundant selectors, kept only essential ones
    - Added .main and #main width overrides for dashboard pages

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.21
  - Summary:
    - Added JavaScript fallback to dynamically fix #content width constraints
    - JavaScript uses setProperty with 'important' flag to override CSS
    - Sets #content max-width: 100% and width: 100% when content-wrapper is present
    - Ensures content-wrapper has max-width: 980px and centered margins
    - Runs immediately, on DOMContentLoaded, and after 100ms/500ms delays to catch all CSS loading scenarios

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.20
  - Summary:
    - Fixed #content max-width constraint issue by adding :has(.content-wrapper) selector
    - Added specific override for #content.colMS:has(.content-wrapper) to remove max-width: 1200px constraint
    - Ensured #content itself doesn't constrain .content-wrapper by setting max-width: 100% when content-wrapper is present
    - Added multiple selectors to catch all cases: body.admin-page.dashboard #content, body.admin-page #content:has(.content-wrapper)

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.19
  - Summary:
    - Completely redesigned admin dashboard to match portal page structure
    - Replaced table-based dashboard with panel-based layout using .content-wrapper, .dashboard-grid, .panel, .list, .list-item
    - Dashboard now uses max-width: 980px centered layout like portal page (not full width)
    - Removed all complex CSS overrides, JavaScript workarounds, and calc() margins
    - Dashboard uses same visual design as portal page with panels and lists
    - Grid layout: 3 columns (desktop), 2 columns (tablet), 1 column (mobile)

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.18
  - Summary:
    - Added JavaScript to admin/index.html template to dynamically remove width constraints
    - JavaScript targets #content, #container, #main, and .dashboard elements
    - Sets inline styles with maxWidth: 100%, width: 100%, marginLeft/Right: 0
    - Runs immediately, on DOMContentLoaded, and after 100ms delay to ensure all CSS has loaded
    - This ensures dashboard uses full browser width even if CSS overrides fail

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.17
  - Summary:
    - Added more aggressive CSS overrides targeting #content.colMS specifically to override Django admin's float layout
    - Added body.admin-page.dashboard class targeting (Django adds .dashboard class to body on dashboard page)
    - Increased CSS specificity with multiple selectors: body.admin-page.dashboard #content, body.admin-page #content.colMS:has(.dashboard)
    - Override .colMS float layout specifically for dashboard pages to ensure full width
    - Dashboard now should use full browser width even when Django admin CSS loads first

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.16
  - Summary:
    - Removed problematic inline wrapper div from admin/index.html that was causing dashboard to disappear
    - Reverted to simpler CSS-only solution using :has() selector to detect dashboard and remove #content max-width constraint
    - Dashboard now properly displays using CSS :has() selector to make #content full width when it contains .dashboard
    - Simplified CSS rules - removed calc() margin workarounds that were causing layout issues

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.15
  - Summary:
    - Added inline wrapper div in admin/index.html template with calc() margins to force dashboard to break out of #content container
    - Updated CSS to support new dashboard wrapper structure
    - Fixed footer positioning to use 100vw width with calc() margins (calc(-50vw + 50%)) to ensure full browser width
    - Increased Export button min-width from 120px to 140px and added white-space: nowrap to prevent text wrapping
    - Footer now properly spans full viewport width even when inside #container

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.14
  - Summary:
    - Fixed clipboard function error handling - added event parameter and fallback for older browsers using document.execCommand
    - Fixed button size inconsistency - both Export and Copy buttons now have same height and styling
    - Completely redesigned admin dashboard CSS to remove ALL width constraints
    - Dashboard now uses :has() selector to detect when #content contains dashboard and removes max-width constraint
    - Removed conflicting CSS rules and simplified dashboard width handling
    - Dashboard now properly uses 100% width without any calc() workarounds

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.13
  - Summary:
    - Fixed admin dashboard width by using calc() CSS to break dashboard out of #content's max-width: 1200px constraint
    - Dashboard now uses full viewport width (calc(100vw - 64px)) with proper margins to break out of parent container
    - Added :has() selector fallback for modern browsers, with calc() fallback for older browsers
    - Added "Copy to Clipboard" button to debug view that copies JSON debug data to clipboard
    - Copy button shows visual feedback ("Copied!") when successful

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.12
  - Summary:
    - Fixed admin dashboard width issue by adding more specific CSS selectors (body.admin-page #content .dashboard, etc.)
    - Removed padding and margin constraints from dashboard CSS
    - Created DebugLoggingMiddleware to track all HTTP requests/responses, processing times, database queries, and exceptions
    - Added frontend JavaScript logging to track button clicks, form submissions, page loads, JavaScript errors, and promise rejections
    - Enhanced debug view template to display request logs table, database queries, and frontend logs viewer
    - Added database query logging configuration in settings.py (when DEBUG=True)
    - Frontend logs accessible via window.getPmgDebugLogs() in browser console

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.11
  - Summary:
    - Added Debug link to avatar menu dropdown for superusers
    - Debug link appears after Admin Panel link in both portal and admin base templates
    - Uses info icon (circle with exclamation mark) for visual consistency

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.10
  - Summary:
    - Added viewport width (100vw) CSS overrides for #container to force full browser width
    - Enhanced topbar CSS to ensure it spans full width with explicit margin overrides
    - Added more specific selectors targeting body.admin-page > * and all div wrappers
    - Improved CSS specificity to override Django admin's default width constraints

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.9
  - Summary:
    - Fixed footer_info context processor to work for admin pages (removed admin path skip check)
    - Added more aggressive CSS overrides for admin page width (targeting body > div wrappers)
    - Enhanced footer CSS to handle footer inside or outside #container with viewport width tricks
    - Created debug view at /debug/ for superusers to view system info, database info, file paths, and errors
    - Added debug template with JSON export functionality

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.8
  - Summary:
    - Fixed admin page width issue by setting #container max-width to none (was 100%)
    - Footer now properly spans full width on admin pages with consistent styling
    - Added explicit footer width and margin overrides to ensure it's not constrained
    - Footer positioned at bottom using flexbox layout (margin-top: auto)

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.7
  - Summary:
    - Changed admin dashboard from 2 columns to 3 columns layout
    - Added max-width: 1200px to #content with margin: 0 auto for centered layout with safe zones (similar to portal page)
    - Updated responsive breakpoints: 2 columns at 1400px, 1 column at 900px
    - Admin page now has proper width constraints instead of full browser width for better readability

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.6
  - Summary:
    - Fixed Recent Actions button by removing conflicting onclick attribute and improving event listener
    - Fixed customer switcher to redirect to portal when switching from profile settings page
    - Added even more aggressive CSS overrides for admin page width (targeting all divs with class/id containing "col", "content", "container")
    - Added float: none to #content to prevent any float-based layout constraints
    - Improved event listener attachment for Recent Actions button with DOMContentLoaded fallback

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.5
  - Summary:
    - Comprehensive fix for admin page width issue
    - Added CSS overrides for html, body.admin-page, #container, #content, .colMS, .colSM, .main, and all child elements
    - Ensured all admin page elements use 100% width with !important flags to override Django's default admin CSS
    - Added box-sizing: border-box to all admin content elements
    - Targeted both body.admin-page and general selectors to catch all possible width constraints

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.4
  - Summary:
    - Fixed admin dashboard width issue by removing max-width constraint on #container element
    - Changed Add button background from blue to green (success color) for better visual distinction
    - Updated both dashboard and object-tools Add buttons to use green background
    - Ensured #content uses full width with proper box-sizing

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.3
  - Summary:
    - Fixed admin dashboard width issue (removed max-width constraint, now uses full page width)
    - Made Add buttons smaller (28px height, 13px font size, reduced padding)
    - Styled Change buttons as box buttons with edit icon in dashboard
    - Improved button icon contrast (white icons on colored backgrounds)
    - Updated object-tools Add button to match smaller size

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.2
  - Summary:
    - Increased topbar padding (20px top/bottom, 32px left/right) for better spacing around menu
    - Admin dashboard modules now display in 2-column grid layout instead of stacked vertically
    - Admin dashboard box titles (captions) styled with blue background for better contrast
    - Added responsive breakpoint for dashboard (switches to single column on smaller screens)

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.2.0-alpha.1
  - Summary:
    - Version bump: 0.1.0-alpha.23 → 0.2.0-alpha.1 (MINOR version increment for new features)
    - Note: CHANGELOG accumulates all changes under [Unreleased] until MAJOR release
    - Major features added: Profile settings redesign, Delete account functionality, Logout confirmation modal
    - Added logout confirmation modal in profile settings sidebar (prevents accidental logout)
    - Delete account modal now resets to Account Information section when closed/cancelled
    - Fixed Recent Actions button vertical alignment in admin topbar (changed to flex with fixed height)
    - Fixed Recent Actions button click functionality (added onclick fallback attribute)
    - Updated admin-icon-btn CSS to use flex instead of inline-flex for better alignment

- 2026-02-05 (Europe/Oslo)
  - Branch: dev
  - Version: 0.1.0-alpha.22
  - Summary:
    - Fixed avatar icon vertical alignment in topbar
    - Increased spacing between website title and menu buttons (gap: 32px)
    - Redesigned profile settings page with left sidebar navigation menu
    - Added sidebar menu items: Account Information, Change Password, Delete Account, Logout
    - Implemented delete account functionality with danger zone modal
    - Delete account requires username confirmation and permanently deletes user
    - Added danger zone styling with warning icons and red color scheme
    - Updated profile_view to handle delete account POST requests

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.1
  - Summary:
    - Created initial Django + Postgres portal foundation
    - Added install/update/reinstall/uninstall scripts
    - Added systemd + optional nginx config
