# BUILDLOG

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.18
  - Summary:
    - Fixed footer to always stay at bottom of screen using flexbox sticky footer layout
    - Unified admin and portal UI: admin pages now use same topbar as portal
    - Hidden customer dropdown in admin pages (only visible in portal)
    - Fixed Recent Actions modal button functionality
    - Added toast notifications to portal pages (previously only in admin)
    - Moved toast notifications to bottom right corner
    - Added active page highlighting in topbar menu (Portal/Admin buttons)
    - Created admin base.html template with portal-style topbar
    - Added footer to admin pages matching portal footer
    - Improved CSS for consistent experience across admin and portal

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.17
  - Summary:
    - Fixed 500 error when accessing admin panel
    - Added missing {% load i18n %} tag in admin index.html template
    - Template was using {% blocktrans %} and {% trans %} without loading i18n library
    - Fixed topbar layout: improved flexbox to ensure menu buttons stay on same line as brand
    - Enhanced topbar CSS with flex-shrink and proper spacing
    - Improved user avatar dropdown menu styling

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.16
  - Summary:
    - Redesigned portal topbar layout for better UX
    - Moved menu buttons (Portal, Admin) to left side next to brand name
    - Created user avatar component with dropdown menu
    - Avatar dropdown includes user info, admin panel link (if superuser), and logout
    - Customer dropdown positioned in middle-right of topbar
    - Removed "Your customers" section from portal page (redundant with header dropdown)
    - Improved topbar visual hierarchy and spacing
    - Added smooth animations for avatar dropdown menu
    - Fixed Admin button functionality in topbar

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.15
  - Summary:
    - Fixed Recent Actions sidebar removal (properly overrode sidebar block in index.html)
    - Added customer dropdown selector in admin header for filtering by customer
    - Added customer dropdown selector in portal header for switching between customers
    - Implemented customer switching functionality with session-based storage
    - Created user_customers context processor for template access to customer memberships
    - Updated portal_home view to use session-stored active customer
    - Added switch_customer view with POST handling and session management
    - Styled customer switcher dropdowns in both admin and portal interfaces
    - Created IMPROVEMENTS.md with comprehensive list of improvement ideas and future features
    - Improved user experience for multi-customer users

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.15
  - Summary:
    - Deep dive admin UI/UX redesign: modernized tables, layout, and icons
    - Removed Recent Actions section from admin dashboard
    - Added Recent Actions modal accessible via clock icon in admin header
    - Implemented modern minimalist SVG icons throughout admin (Lucide-inspired)
    - Redesigned tables with zebra striping, improved spacing, and visual hierarchy
    - Enhanced table styling with better borders, shadows, and hover effects
    - Added icon buttons for view, edit, and delete actions in tables
    - Improved modal design with backdrop blur and modern card styling
    - Better icon integration with consistent sizing and spacing

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.14
  - Summary:
    - Complete admin UI/UX redesign with modern minimalist approach
    - Improved navigation, buttons, spacing, and visual hierarchy
    - Better contrast and readability (proper text colors on all backgrounds)
    - Moved changelog button to footer under copyright information
    - Inspired by Django Unfold and modern admin best practices

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.13
  - Summary:
    - Fixed CustomerMembership save error (proper form instance handling)
    - Redesigned admin interface to match Interheart style exactly
    - Compact fonts (12px, 13px, 14px) matching Interheart
    - Clean, subtle design with proper rgba colors
    - Better spacing and visual hierarchy

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.12
  - Summary:
    - Fixed 500 error when saving CustomerMembership (added save_m2m method)
    - Complete redesign of admin interface with modern, clean dark theme
    - Improved spacing, shadows, and visual hierarchy
    - Better button styles with hover effects
    - Enhanced table and form styling

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.11
  - Summary:
    - Completely redesigned admin CSS for better text contrast and visibility
    - Matched admin design to portal color palette exactly
    - Fixed all text color issues (text now visible on all backgrounds)
    - Improved form elements, buttons, tables, and all admin components

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.10
  - Summary:
    - Fixed 500 error in CustomerMembership changelist (removed bulk_add URL reference)
    - Modernized Django admin interface with dark theme CSS
    - Created custom admin base template for styling
    - Admin now matches portal design aesthetic

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.9
  - Summary:
    - Fixed 500 error when adding CustomerMembership (form fields configuration)
    - Fixed form to properly handle add vs edit modes with dynamic fields

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.8
  - Summary:
    - Merged bulk add into regular CustomerMembership add form with multi-select
    - Added customer admin permissions to manage memberships for their customer
    - Updated registration text to reflect PMG and Customer admin access assignment
    - Removed separate bulk add page and templates

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.7
  - Summary:
    - Improved UI/UX: better topbar button styling, admin visibility controls
    - Added bulk add CustomerMemberships feature
    - Simplified footer design
    - Made 5echo.io clickable link
    - Enhanced README.md with detailed installation/update instructions
    - Enhanced README.md with detailed installation/update instructions

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.6
  - Summary:
    - Created initial migrations for portal models (fixes missing database tables)
    - Fixed admin 500 errors with improved error handling
    - Improved changelog modal to show version-specific sections
    - Removed changelog preview text from footer, only button remains
    - Added dark mode scrollbar styling
    - Added logging configuration for better debugging
    - Improved topbar design with better button styling
    - Admin button only visible to superusers
    - Removed Admin link from login page
    - Added bulk add CustomerMemberships feature
    - Made 5echo.io clickable in footer
    - Simplified footer (removed Quick Links)

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.5
  - Summary:
    - Fixed installer interactive mode detection (auto-defaults to update when piped)
    - Improved non-interactive installation experience
    - Added footer with copyright, version, and changelog preview
    - Added changelog modal dialog for viewing full changelog
    - Fixed 500 error when saving Customer in admin (context processor now skips admin pages)
    - Improved admin queryset handling to avoid errors during save operations
    - Fixed context processor file reading errors causing admin save failures
    - Improved portal_home view error handling and query optimization
    - Comprehensive fix for admin 500 errors: improved get_queryset URL detection, added try/except blocks
    - Added logging configuration for better debugging

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.4
  - Summary:
    - Added standalone installer (install.sh) for curl-based installation
    - Installer detects existing installation and offers update/uninstall
    - Update mode preserves database and .env configuration
    - Fixed interactive prompts in non-interactive mode (defaults to update)

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.4
  - Summary:
    - Changed default APP_BIND to 0.0.0.0:8097 for reverse proxy compatibility
    - Fixed static files not loading: added WhiteNoise middleware for production
    - Updated templates to use Django static tag
    - Fixed 500 errors after login and "View site" button
    - Whitelabeled admin site (PMG Portal branding)
    - Improved admin interface with descriptions and counts
    - Added setup guide documentation
    - Fixed 500 error when adding Customer (member_count/link_count methods)

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.3
  - Summary:
    - Set default bind port to 8097
    - Fixed local Postgres bootstrap in install wizard

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.2
  - Summary:
    - Added interactive install wizard with .env prompts
    - Bootstrapped local Postgres during install when applicable
    - Updated default admin credentials to admin/admin and superuser check

- 2026-02-05 (Europe/Oslo)
  - Branch: dev (suggested)
  - Version: 0.1.0-alpha.1
  - Summary:
    - Created initial Django + Postgres portal foundation
    - Added install/update/reinstall/uninstall scripts
    - Added systemd + optional nginx config
