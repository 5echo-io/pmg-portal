/* PMG Portal Admin - Modern Minimalist Design */
/* Inspired by Django Unfold and modern admin best practices */
/* IMPORTANT: This file MUST load AFTER Django's default admin CSS to override width constraints */

:root {
  --bg: #0a0e1a;
  --surface: #111827;
  --surface-elevated: #1a1f2e;
  --border: rgba(255, 255, 255, 0.08);
  --border-hover: rgba(255, 255, 255, 0.12);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.65);
  --text-tertiary: rgba(255, 255, 255, 0.45);
  --accent: #3b82f6;
  --accent-hover: #2563eb;
  --success: #10b981;
  --danger: #ef4444;
  --warning: #f59e0b;
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 12px 24px rgba(0, 0, 0, 0.5);
  --transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

* {
  box-sizing: border-box;
}

body {
  margin: 0 !important;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
  color: var(--text-primary) !important;
  background: var(--bg) !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
}

/* ===== HEADER ===== */
/* Hide Django's default header when using custom topbar */
#header {
  display: none !important;
}

body.admin-page {
  min-height: 100vh !important;
  display: flex !important;
  flex-direction: column !important;
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Ensure admin page body structure matches portal for footer positioning */
html body.admin-page {
  min-height: 100vh !important;
  display: flex !important;
  flex-direction: column !important;
}

html.admin-page,
html[class*="admin"] {
  width: 100% !important;
  max-width: 100% !important;
}

body.admin-page #content {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
}

body.admin-page .footer {
  margin-top: auto;
  flex-shrink: 0;
  width: 100% !important;
  max-width: 100% !important;
  padding: 30px 0 !important;
  border-top: 1px solid var(--line) !important;
  background: #0c1426 !important;
  box-sizing: border-box !important;
}

#branding {
  float: left !important;
  padding: 16px 24px !important;
}

#branding h1 {
  margin: 0 !important;
  padding: 0 !important;
  font-size: 16px !important;
  font-weight: 600 !important;
  letter-spacing: -0.01em !important;
}

#branding h1 a,
#branding h1 a:link,
#branding h1 a:visited {
  color: var(--text-primary) !important;
  text-decoration: none !important;
}

#user-tools {
  float: right !important;
  padding: 16px 24px !important;
  text-align: right !important;
  font-size: 13px !important;
}

#user-tools,
#user-tools * {
  color: var(--text-secondary) !important;
}

#user-tools a {
  color: var(--text-secondary) !important;
  text-decoration: none !important;
  margin-left: 20px !important;
  padding-left: 20px !important;
  border-left: 1px solid var(--border) !important;
  transition: var(--transition) !important;
  font-weight: 500 !important;
}

#user-tools a:first-child {
  margin-left: 0 !important;
  padding-left: 0 !important;
  border-left: none !important;
}

#user-tools a:hover {
  color: var(--accent) !important;
}

/* Recent Actions Icon Button */
#recent-actions-btn {
  background: transparent !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-sm) !important;
  padding: 8px 10px !important;
  margin-right: 12px !important;
  cursor: pointer !important;
  color: var(--text-secondary) !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  transition: var(--transition) !important;
  vertical-align: middle !important;
  line-height: 1 !important;
}

#recent-actions-btn:hover {
  background: var(--surface-elevated) !important;
  border-color: var(--border-hover) !important;
  color: var(--text-primary) !important;
  transform: translateY(-1px) !important;
}

#recent-actions-btn svg {
  display: block !important;
  width: 18px !important;
  height: 18px !important;
}

/* Customer Switcher Dropdown */
.admin-customer-switcher {
  padding: 8px 12px !important;
  border-radius: var(--radius-sm) !important;
  background: var(--surface-elevated) !important;
  border: 1px solid var(--border) !important;
  color: var(--text-primary) !important;
  font-size: 13px !important;
  cursor: pointer !important;
  transition: var(--transition) !important;
  font-family: inherit !important;
  margin-right: 12px !important;
  height: 36px !important;
  min-width: 150px !important;
}

.admin-customer-switcher:hover {
  background: var(--surface) !important;
  border-color: var(--border-hover) !important;
}

.admin-customer-switcher:focus {
  outline: none !important;
  border-color: var(--accent) !important;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
}

.admin-customer-switcher option {
  background: var(--surface) !important;
  color: var(--text-primary) !important;
}

/* Recent Actions Modal */
.admin-modal {
  display: none !important;
  position: fixed !important;
  z-index: 10000 !important;
  left: 0 !important;
  top: 0 !important;
  width: 100% !important;
  height: 100% !important;
  background: rgba(0, 0, 0, 0.7) !important;
  backdrop-filter: blur(4px) !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 20px !important;
}

.admin-modal-content {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-lg) !important;
  box-shadow: var(--shadow-lg) !important;
  max-width: 700px !important;
  width: 100% !important;
  max-height: 80vh !important;
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;
}

.admin-modal-header {
  padding: 20px 24px !important;
  border-bottom: 1px solid var(--border) !important;
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  background: var(--surface-elevated) !important;
}

.admin-modal-header h2 {
  margin: 0 !important;
  padding: 0 !important;
  font-size: 18px !important;
  font-weight: 600 !important;
  color: var(--text-primary) !important;
}

.admin-modal-close {
  background: transparent !important;
  border: none !important;
  color: var(--text-secondary) !important;
  font-size: 28px !important;
  line-height: 1 !important;
  cursor: pointer !important;
  padding: 0 !important;
  width: 32px !important;
  height: 32px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  border-radius: var(--radius-sm) !important;
  transition: var(--transition) !important;
}

.admin-modal-close:hover {
  background: var(--surface) !important;
  color: var(--text-primary) !important;
}

.admin-modal-body {
  padding: 24px !important;
  overflow-y: auto !important;
  flex: 1 !important;
}

.recent-actions-table {
  display: flex !important;
  flex-direction: column !important;
  gap: 12px !important;
}

.recent-action-item {
  display: flex !important;
  align-items: flex-start !important;
  gap: 12px !important;
  padding: 12px !important;
  border-radius: var(--radius-sm) !important;
  background: var(--surface-elevated) !important;
  border: 1px solid var(--border) !important;
  transition: var(--transition) !important;
}

.recent-action-item:hover {
  background: var(--surface) !important;
  border-color: var(--border-hover) !important;
}

.recent-action-icon {
  flex-shrink: 0 !important;
  width: 32px !important;
  height: 32px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  background: rgba(59, 130, 246, 0.1) !important;
  border-radius: var(--radius-sm) !important;
  color: var(--accent) !important;
}

.recent-action-icon svg {
  width: 16px !important;
  height: 16px !important;
}

.recent-action-content {
  flex: 1 !important;
  min-width: 0 !important;
}

.recent-action-text {
  color: var(--text-primary) !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  margin-bottom: 4px !important;
}

.recent-action-text a {
  color: var(--accent) !important;
  text-decoration: none !important;
}

.recent-action-text a:hover {
  text-decoration: underline !important;
}

.recent-action-time {
  color: var(--text-tertiary) !important;
  font-size: 12px !important;
}

.muted {
  color: var(--text-tertiary) !important;
  font-style: italic !important;
}

/* ===== CONTENT ===== */
/* Standardized admin layout (match portal) */
body.admin-page #container {
  min-height: 100vh !important;
  display: flex !important;
  flex-direction: column !important;
  flex: 1 !important;
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
  box-sizing: border-box !important;
}

body.admin-page #main {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
}

body.admin-page #content {
  flex: 1 !important;
  background: var(--bg) !important;
  padding: 32px !important;
  width: 100% !important;
  max-width: 980px !important;
  margin: 0 auto !important;
  box-sizing: border-box !important;
  float: none !important;
  position: relative !important;
}

body.admin-page #content.colMS,
body.admin-page #content.colSM {
  width: 100% !important;
  max-width: 980px !important;
  margin: 0 auto !important;
  float: none !important;
}

/* Ensure footer spans full width and is positioned correctly - STANDARDIZED */
footer.footer,
.footer,
body footer.footer,
body .footer,
body.admin-page footer.footer,
body.admin-page .footer,
html body footer.footer,
html body .footer {
  width: 100% !important;
  max-width: 100% !important;
  min-width: 100% !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  margin-top: auto !important;
  flex-shrink: 0 !important;
  padding: 30px 0 !important;
  border-top: 1px solid var(--line) !important;
  background: #0c1426 !important;
  box-sizing: border-box !important;
  position: relative !important;
}

/* Ensure footer-content matches portal styling exactly */
body.admin-page .footer-content,
.footer-content,
body.admin-page.dashboard .footer-content,
footer.footer .footer-content,
.footer .footer-content {
  max-width: 980px !important;
  width: 100% !important;
  margin: 0 auto !important;
  padding-left: 20px !important;
  padding-right: 20px !important;
  box-sizing: border-box !important;
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)) !important;
  gap: 30px !important;
}

/* Ensure footer is outside #container if Django admin puts it inside */
body.admin-page #container footer.footer,
body.admin-page #container .footer {
  width: 100% !important;
  max-width: 100% !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  position: relative !important;
  left: 0 !important;
  right: 0 !important;
}

#content h1 {
  color: var(--text-primary) !important;
  font-size: 24px !important;
  font-weight: 600 !important;
  letter-spacing: -0.02em !important;
  margin: 0 0 24px 0 !important;
  padding: 0 !important;
}

#content h2 {
  color: var(--text-primary) !important;
  font-size: 18px !important;
  font-weight: 600 !important;
  margin: 0 0 16px 0 !important;
}

#content h3 {
  color: var(--text-primary) !important;
  font-size: 16px !important;
  font-weight: 600 !important;
  margin: 0 0 12px 0 !important;
}

/* ===== BREADCRUMBS ===== */
.breadcrumbs {
  background: transparent !important;
  border-bottom: 1px solid var(--border) !important;
  padding: 12px 0 !important;
  margin: 0 0 24px 0 !important;
  font-size: 13px !important;
}

/* ===== UNIFIED LAYOUT OVERRIDES (PORTAL MATCH) ===== */
html,
html.admin-page,
body.admin-page {
  height: 100% !important;
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

body.admin-page {
  min-height: 100vh !important;
  display: flex !important;
  flex-direction: column !important;
}

/* Make Django admin container behave like portal layout */
body.admin-page #container {
  min-height: 100vh !important;
  display: flex !important;
  flex-direction: column !important;
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

body.admin-page #main {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  width: 100% !important;
  max-width: 100% !important;
}

body.admin-page #content {
  flex: 1 !important;
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 !important;
  padding: 32px !important;
  box-sizing: border-box !important;
}

/* Footer matches portal: full width background, centered content */
footer.footer,
.footer {
  width: 100% !important;
  max-width: 100% !important;
  margin-top: auto !important;
  flex-shrink: 0 !important;
  padding: 30px 0 !important;
  border-top: 1px solid var(--line) !important;
  background: #0c1426 !important;
  box-sizing: border-box !important;
  position: relative !important;
}

body.admin-page #container footer.footer,
body.admin-page #container .footer {
  width: 100% !important;
  max-width: 100% !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}

.footer-content {
  max-width: 980px !important;
  width: 100% !important;
  margin: 0 auto !important;
  padding-left: 20px !important;
  padding-right: 20px !important;
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)) !important;
  gap: 30px !important;
  box-sizing: border-box !important;
}

/* Ensure nav sidebar is always visible and toggle is removed */
#toggle-nav-sidebar {
  display: none !important;
}

#nav-sidebar,
body.nav-sidebar-collapsed #nav-sidebar {
  display: block !important;
}

button[aria-controls="nav-sidebar"],
.toggle-nav-sidebar,
[data-toggle="nav-sidebar"] {
  display: none !important;
}

body.nav-sidebar-collapsed #content,
body.nav-sidebar-collapsed #main {
  margin-left: 0 !important;
}

/* Hide breadcrumbs on dashboard page */
body.admin-page.dashboard .breadcrumbs,
body.admin-page #content.dashboard-page .breadcrumbs,
body.admin-page #content:has(.dashboard-page) .breadcrumbs {
  display: none !important;
}

.breadcrumbs,
.breadcrumbs * {
  color: var(--text-tertiary) !important;
}

.breadcrumbs a {
  color: var(--accent) !important;
  text-decoration: none !important;
  transition: var(--transition) !important;
  font-weight: 500 !important;
}

.breadcrumbs a:hover {
  color: var(--accent-hover) !important;
}

/* ===== MODULES ===== */
.module {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-md) !important;
  margin-bottom: 24px !important;
  overflow: hidden !important;
  box-shadow: var(--shadow-sm) !important;
}

.module h2 {
  background: var(--surface-elevated) !important;
  border-bottom: 1px solid var(--border) !important;
  color: var(--text-primary) !important;
  padding: 16px 20px !important;
  margin: 0 !important;
  font-size: 14px !important;
  font-weight: 600 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.05em !important;
}

.module h3 {
  color: var(--text-primary) !important;
  border-bottom: 1px solid var(--border) !important;
  padding: 14px 20px !important;
  margin: 0 !important;
  font-size: 14px !important;
  font-weight: 600 !important;
}

.module p,
.module li,
.module td,
.module th {
  color: var(--text-primary) !important;
  font-size: 14px !important;
}

/* ===== TABLES ===== */
#result_list {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-md) !important;
  overflow: hidden !important;
  width: 100% !important;
  box-shadow: var(--shadow-sm) !important;
}

#result_list thead {
  background: var(--surface-elevated) !important;
}

#result_list thead th {
  background: var(--surface-elevated) !important;
  border-bottom: 1px solid var(--border) !important;
  color: var(--text-secondary) !important;
  padding: 14px 18px !important;
  font-weight: 600 !important;
  font-size: 11px !important;
  text-align: left !important;
  text-transform: uppercase !important;
  letter-spacing: 0.08em !important;
  white-space: nowrap !important;
}

#result_list thead th a {
  color: var(--text-secondary) !important;
  text-decoration: none !important;
  transition: var(--transition) !important;
  display: inline-flex !important;
  align-items: center !important;
  gap: 6px !important;
}

#result_list thead th a:hover {
  color: var(--text-primary) !important;
}

#result_list tbody td {
  border-bottom: 1px solid var(--border) !important;
  padding: 16px 18px !important;
  color: var(--text-primary) !important;
  font-size: 13px !important;
  vertical-align: middle !important;
}

#result_list tbody tr {
  transition: var(--transition) !important;
  background: var(--surface) !important;
}

#result_list tbody tr:nth-child(even) {
  background: rgba(255, 255, 255, 0.01) !important;
}

#result_list tbody tr:hover {
  background: rgba(59, 130, 246, 0.06) !important;
}

#result_list tbody tr.selected {
  background: rgba(59, 130, 246, 0.12) !important;
}

#result_list tbody tr.selected td {
  color: var(--text-primary) !important;
}

#result_list tbody tr:last-child td {
  border-bottom: none !important;
}

#result_list tbody td a {
  color: var(--text-primary) !important;
  text-decoration: none !important;
  transition: var(--transition) !important;
  font-weight: 500 !important;
  display: inline-flex !important;
  align-items: center !important;
  gap: 6px !important;
}

#result_list tbody td a:hover {
  color: var(--accent) !important;
}

/* Table action icons */
#result_list tbody td .viewlink::before {
  content: '' !important;
  width: 14px !important;
  height: 14px !important;
  display: inline-block !important;
  margin-right: 6px !important;
  vertical-align: middle !important;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24' fill='none' stroke='%233b82f6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z'%3E%3C/path%3E%3Ccircle cx='12' cy='12' r='3'%3E%3C/circle%3E%3C/svg%3E") !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
}

#result_list tbody td .changelink::before {
  content: '' !important;
  width: 14px !important;
  height: 14px !important;
  display: inline-block !important;
  margin-right: 6px !important;
  vertical-align: middle !important;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24' fill='none' stroke='%233b82f6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7'%3E%3C/path%3E%3Cpath d='M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z'%3E%3C/path%3E%3C/svg%3E") !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
}

#result_list tbody td .deletelink::before {
  content: '' !important;
  width: 14px !important;
  height: 14px !important;
  display: inline-block !important;
  margin-right: 6px !important;
  vertical-align: middle !important;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24' fill='none' stroke='%23ef4444' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M3 6h18'%3E%3C/path%3E%3Cpath d='M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6'%3E%3C/path%3E%3Cpath d='M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2'%3E%3C/path%3E%3C/svg%3E") !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
}

/* ===== FORMS ===== */
input[type="text"],
input[type="password"],
input[type="email"],
input[type="url"],
input[type="number"],
input[type="date"],
input[type="datetime-local"],
textarea,
select {
  border-radius: var(--radius-sm) !important;
  border: 1px solid var(--border) !important;
  background: var(--surface-elevated) !important;
  color: var(--text-primary) !important;
  padding: 10px 14px !important;
  font-size: 14px !important;
  font-family: inherit !important;
  transition: var(--transition) !important;
  width: 100% !important;
  outline: none !important;
}

input[type="text"]:focus,
input[type="password"]:focus,
input[type="email"]:focus,
input[type="url"]:focus,
input[type="number"]:focus,
input[type="date"]:focus,
input[type="datetime-local"]:focus,
textarea:focus,
select:focus {
  border-color: var(--accent) !important;
  background: var(--surface-elevated) !important;
  color: var(--text-primary) !important;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
}

input::placeholder {
  color: var(--text-tertiary) !important;
}

textarea {
  min-height: 100px !important;
  resize: vertical !important;
}

/* Labels */
label {
  color: var(--text-secondary) !important;
  font-size: 13px !important;
  font-weight: 500 !important;
  margin-bottom: 8px !important;
  display: block !important;
}

.form-row label {
  color: var(--text-secondary) !important;
}

.aligned label {
  color: var(--text-secondary) !important;
  width: 160px !important;
  padding: 10px 0 !important;
}

/* ===== BUTTONS ===== */
.button,
input[type="submit"],
.submit-row input,
a.button {
  border-radius: var(--radius-sm) !important;
  border: 1px solid var(--border) !important;
  padding: 10px 20px !important;
  cursor: pointer !important;
  font-weight: 500 !important;
  color: var(--text-primary) !important;
  background: var(--surface-elevated) !important;
  transition: var(--transition) !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 8px !important;
  user-select: none !important;
  height: 40px !important;
  line-height: 1 !important;
  text-decoration: none !important;
  font-size: 14px !important;
  box-shadow: var(--shadow-sm) !important;
}

.button:hover,
input[type="submit"]:hover,
.submit-row input:hover,
a.button:hover {
  border-color: var(--border-hover) !important;
  background: var(--surface) !important;
  transform: translateY(-1px) !important;
  box-shadow: var(--shadow-md) !important;
}

.button:active,
input[type="submit"]:active,
.submit-row input:active,
a.button:active {
  transform: translateY(0) !important;
}

.button.default,
input[type="submit"].default,
.submit-row input.default {
  border-color: var(--accent) !important;
  background: var(--accent) !important;
  color: white !important;
}

.button.default:hover,
input[type="submit"].default:hover,
.submit-row input.default:hover {
  background: var(--accent-hover) !important;
  border-color: var(--accent-hover) !important;
  color: white !important;
}

/* Add button */
.addlink {
  border-radius: var(--radius-sm) !important;
  border: 1px solid var(--success) !important;
  padding: 6px 12px !important;
  font-weight: 500 !important;
  color: white !important;
  background: var(--success) !important;
  text-decoration: none !important;
  display: inline-flex !important;
  align-items: center !important;
  gap: 6px !important;
  height: 28px !important;
  font-size: 13px !important;
  transition: var(--transition) !important;
  box-shadow: var(--shadow-sm) !important;
}

.addlink::before {
  content: '' !important;
  width: 14px !important;
  height: 14px !important;
  display: inline-block !important;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M5 12h14'%3E%3Cpath d='M12 5v14'%3E%3C/svg%3E") !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
}

.addlink:hover {
  background: #059669 !important;
  border-color: #059669 !important;
  color: white !important;
  transform: translateY(-1px) !important;
  box-shadow: var(--shadow-md) !important;
}

/* Delete button */
.deletelink,
.deletelink-box a {
  border-color: var(--danger) !important;
  background: var(--danger) !important;
  color: white !important;
  border-radius: var(--radius-sm) !important;
  padding: 10px 20px !important;
  font-size: 14px !important;
  font-weight: 500 !important;
  text-decoration: none !important;
  transition: var(--transition) !important;
  box-shadow: var(--shadow-sm) !important;
  display: inline-flex !important;
  align-items: center !important;
  gap: 8px !important;
  height: 40px !important;
}

.deletelink::before,
.deletelink-box a::before {
  content: '' !important;
  width: 16px !important;
  height: 16px !important;
  display: inline-block !important;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M3 6h18'%3E%3Cpath d='M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6'%3E%3Cpath d='M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2'%3E%3C/svg%3E") !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
}

.deletelink:hover,
.deletelink-box a:hover {
  background: #dc2626 !important;
  border-color: #dc2626 !important;
  color: white !important;
  transform: translateY(-1px) !important;
  box-shadow: var(--shadow-md) !important;
}

/* ===== OBJECT TOOLS ===== */
.object-tools {
  margin-bottom: 24px !important;
  float: right !important;
}

.object-tools li {
  margin-left: 12px !important;
  list-style: none !important;
  display: inline-block !important;
}

.object-tools a {
  border-radius: var(--radius-sm) !important;
  border: 1px solid var(--border) !important;
  padding: 10px 20px !important;
  font-weight: 500 !important;
  color: var(--text-primary) !important;
  background: var(--surface-elevated) !important;
  text-decoration: none !important;
  display: inline-flex !important;
  align-items: center !important;
  gap: 8px !important;
  height: 40px !important;
  font-size: 14px !important;
  transition: var(--transition) !important;
  box-shadow: var(--shadow-sm) !important;
}

.object-tools .addlink {
  padding: 6px 12px !important;
  height: 28px !important;
  font-size: 13px !important;
  gap: 6px !important;
  border-color: var(--success) !important;
  background: var(--success) !important;
  color: white !important;
}

.object-tools .addlink:hover {
  background: #059669 !important;
  border-color: #059669 !important;
  color: white !important;
}

.object-tools .addlink::before {
  content: '' !important;
  width: 14px !important;
  height: 14px !important;
  display: inline-block !important;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M5 12h14'%3E%3Cpath d='M12 5v14'%3E%3C/svg%3E") !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
}

.object-tools a:hover {
  border-color: var(--border-hover) !important;
  background: var(--surface) !important;
  transform: translateY(-1px) !important;
  box-shadow: var(--shadow-md) !important;
}

/* ===== MESSAGES ===== */
/* Hide Django's default message list - we use toast notifications instead */
.messagelist {
  display: none !important;
}

.messagelist li {
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-sm) !important;
  padding: 14px 18px !important;
  margin-bottom: 12px !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  box-shadow: var(--shadow-sm) !important;
}

.messagelist li.success {
  border-color: rgba(16, 185, 129, 0.3) !important;
  background: rgba(16, 185, 129, 0.1) !important;
  color: rgba(255, 255, 255, 0.95) !important;
}

.messagelist li.error {
  border-color: rgba(239, 68, 68, 0.3) !important;
  background: rgba(239, 68, 68, 0.1) !important;
  color: rgba(255, 255, 255, 0.95) !important;
}

.messagelist li.warning {
  border-color: rgba(245, 158, 11, 0.3) !important;
  background: rgba(245, 158, 11, 0.1) !important;
  color: rgba(255, 255, 255, 0.95) !important;
}

.messagelist li.info {
  border-color: rgba(59, 130, 246, 0.3) !important;
  background: rgba(59, 130, 246, 0.1) !important;
  color: rgba(255, 255, 255, 0.95) !important;
}

/* ===== FILTERS ===== */
#changelist-filter {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-md) !important;
  padding: 0 !important;
  box-shadow: var(--shadow-sm) !important;
  position: static !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Make changelist filter sidebar static and always visible */
#changelist-filter,
.sticky,
.sticky-container {
  position: static !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  transform: none !important;
}

/* Hide any collapse/toggle buttons for sidebar */
#changelist-filter .collapse-toggle,
#changelist-filter .toggle,
.sticky .collapse-toggle,
.sticky .toggle {
  display: none !important;
}

#changelist-filter h2 {
  background: var(--surface-elevated) !important;
  border-bottom: 1px solid var(--border) !important;
  color: var(--text-primary) !important;
  padding: 14px 18px !important;
  margin: 0 !important;
  font-size: 12px !important;
  font-weight: 600 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.05em !important;
}

#changelist-filter h3 {
  color: var(--text-primary) !important;
  border-bottom: 1px solid var(--border) !important;
  padding: 12px 18px !important;
  margin: 0 !important;
  font-size: 13px !important;
  font-weight: 600 !important;
}

#changelist-filter ul {
  margin: 0 !important;
  padding: 0 !important;
  list-style: none !important;
}

#changelist-filter li {
  margin: 0 !important;
}

#changelist-filter a {
  color: var(--text-secondary) !important;
  padding: 10px 18px !important;
  display: block !important;
  text-decoration: none !important;
  transition: var(--transition) !important;
  border-bottom: 1px solid var(--border) !important;
  font-size: 14px !important;
}

#changelist-filter a:last-child {
  border-bottom: none !important;
}

#changelist-filter a:hover {
  color: var(--accent) !important;
  background: rgba(255, 255, 255, 0.02) !important;
}

#changelist-filter li.selected a {
  color: var(--accent) !important;
  font-weight: 600 !important;
  background: rgba(59, 130, 246, 0.08) !important;
}

/* ===== CHECKBOXES & RADIOS ===== */
input[type="checkbox"],
input[type="radio"] {
  accent-color: var(--accent) !important;
  width: 18px !important;
  height: 18px !important;
  cursor: pointer !important;
}

/* ===== SELECT MULTIPLE ===== */
select[multiple] {
  background: var(--surface-elevated) !important;
  border: 1px solid var(--border) !important;
  color: var(--text-primary) !important;
  border-radius: var(--radius-sm) !important;
  min-height: 200px !important;
  padding: 8px !important;
}

select[multiple] option {
  padding: 10px !important;
  color: var(--text-primary) !important;
  background: var(--surface-elevated) !important;
}

select[multiple] option:checked {
  background: var(--accent) !important;
  color: white !important;
}

select[multiple] option:hover {
  background: rgba(255, 255, 255, 0.05) !important;
}

/* ===== LINKS ===== */
a:link,
a:visited {
  color: var(--accent) !important;
  text-decoration: none !important;
  transition: var(--transition) !important;
}

a:hover {
  color: var(--accent-hover) !important;
}

/* ===== PAGINATION ===== */
.paginator {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-md) !important;
  padding: 16px !important;
  margin-top: 24px !important;
  text-align: center !important;
  box-shadow: var(--shadow-sm) !important;
}

.paginator,
.paginator * {
  color: var(--text-primary) !important;
}

.paginator a {
  background: var(--surface-elevated) !important;
  border: 1px solid var(--border) !important;
  color: var(--text-primary) !important;
  border-radius: var(--radius-sm) !important;
  padding: 8px 14px !important;
  margin: 0 4px !important;
  text-decoration: none !important;
  display: inline-block !important;
  transition: var(--transition) !important;
  font-size: 14px !important;
  font-weight: 500 !important;
}

.paginator a:hover {
  background: var(--surface) !important;
  border-color: var(--border-hover) !important;
  transform: translateY(-1px) !important;
}

.paginator .this-page {
  background: var(--accent) !important;
  color: white !important;
  border-color: var(--accent) !important;
  font-weight: 600 !important;
}

/* ===== SEARCH ===== */
#changelist-search {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-md) !important;
  padding: 20px !important;
  margin-bottom: 24px !important;
  box-shadow: var(--shadow-sm) !important;
}

#changelist-search label {
  color: var(--text-secondary) !important;
  display: block !important;
  margin-bottom: 10px !important;
  font-size: 13px !important;
  font-weight: 500 !important;
}

#changelist-search input {
  background: var(--surface-elevated) !important;
  border: 1px solid var(--border) !important;
  color: var(--text-primary) !important;
}

/* ===== HELP TEXT ===== */
.help,
p.help,
.form-row .help {
  color: var(--text-tertiary) !important;
  font-size: 12px !important;
  margin-top: 6px !important;
  line-height: 1.4 !important;
}

/* ===== ERRORS ===== */
.errorlist {
  background: rgba(239, 68, 68, 0.1) !important;
  border: 1px solid rgba(239, 68, 68, 0.3) !important;
  border-radius: var(--radius-sm) !important;
  padding: 12px 16px !important;
  color: rgba(255, 255, 255, 0.95) !important;
  list-style: none !important;
  margin: 10px 0 !important;
  font-size: 13px !important;
}

.errorlist li {
  color: rgba(255, 255, 255, 0.95) !important;
  margin: 4px 0 !important;
}

/* ===== FIELDSET ===== */
fieldset.module {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-md) !important;
  margin-bottom: 24px !important;
  overflow: hidden !important;
  box-shadow: var(--shadow-sm) !important;
}

fieldset.module h2 {
  background: var(--surface-elevated) !important;
  border-bottom: 1px solid var(--border) !important;
  color: var(--text-primary) !important;
  padding: 16px 20px !important;
}

fieldset.module .form-row {
  border-bottom: 1px solid var(--border) !important;
  padding: 16px 20px !important;
  margin: 0 !important;
}

fieldset.module .form-row:last-child {
  border-bottom: none !important;
}

/* ===== SUBMIT ROW ===== */
.submit-row {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-md) !important;
  padding: 20px !important;
  margin-top: 24px !important;
  box-shadow: var(--shadow-sm) !important;
  display: flex !important;
  gap: 12px !important;
  align-items: center !important;
  justify-content: flex-end !important;
}

.submit-row * {
  color: var(--text-primary) !important;
}

/* ===== ADMIN INDEX ===== */
/* Use same structure as portal page - content-wrapper with max-width */
/* IMPORTANT: This must break out of #content's max-width constraint */
body.admin-page #content .content-wrapper,
body.admin-page.dashboard #content .content-wrapper,
body.admin-page #content.colMS .content-wrapper,
body.admin-page #content:has(.content-wrapper) .content-wrapper {
  max-width: 980px !important;
  width: 100% !important;
  margin: 0 auto !important;
  padding: 0 !important;
  box-sizing: border-box !important;
  position: relative !important;
}

/* Ensure #content itself doesn't constrain content-wrapper */
body.admin-page #content:has(.content-wrapper),
body.admin-page.dashboard #content,
body.admin-page #content.colMS:has(.content-wrapper) {
  max-width: 100% !important;
  width: 100% !important;
}

body.admin-page #content .content-wrapper h1 {
  margin: 0 0 24px 0 !important;
  font-size: 22px !important;
  font-weight: 600 !important;
}

/* Hide duplicate h1 titles outside content-wrapper on dashboard */
body.admin-page.dashboard #content h1:not(.content-wrapper h1),
body.admin-page #content.dashboard-page h1:not(.content-wrapper h1),
body.admin-page #content:has(.dashboard-page) h1:not(.content-wrapper h1) {
  display: none !important;
}

/* Ensure only one h1 shows - hide any that are not inside content-wrapper */
body.admin-page #content:has(.dashboard-page) > h1 {
  display: none !important;
}

body.admin-page #content .dashboard-grid {
  display: grid !important;
  grid-template-columns: repeat(3, 1fr) !important;
  gap: 24px !important;
  margin-top: 0 !important;
  width: 100% !important;
  box-sizing: border-box !important;
}

@media (max-width: 1400px) {
  body.admin-page #content .dashboard-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

@media (max-width: 900px) {
  body.admin-page #content .dashboard-grid {
    grid-template-columns: 1fr !important;
  }
}

/* Style panels like portal page */
body.admin-page #content .content-wrapper .panel {
  background: var(--card) !important;
  border: 1px solid var(--line) !important;
  border-radius: 14px !important;
  padding: 16px !important;
  margin-top: 0 !important;
}

body.admin-page #content .content-wrapper .panel h2 {
  margin: 0 0 16px 0 !important;
  font-size: 16px !important;
  font-weight: 600 !important;
  padding-bottom: 12px !important;
  border-bottom: 1px solid var(--line) !important;
}

body.admin-page #content .content-wrapper .panel h2 .section-link {
  color: var(--text-primary) !important;
  text-decoration: none !important;
}

body.admin-page #content .content-wrapper .panel h2 .section-link:hover {
  color: var(--accent) !important;
}

body.admin-page #content .content-wrapper .list {
  list-style: none !important;
  padding: 0 !important;
  margin: 0 !important;
}

body.admin-page #content .content-wrapper .list-item {
  padding: 12px 0 !important;
  border-top: 1px solid var(--line) !important;
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
}

body.admin-page #content .content-wrapper .list-item:first-child {
  border-top: none !important;
}

body.admin-page #content .content-wrapper .list-title {
  font-weight: 600 !important;
  flex: 1 !important;
}

body.admin-page #content .content-wrapper .list-title a {
  color: var(--text-primary) !important;
  text-decoration: none !important;
}

body.admin-page #content .content-wrapper .list-title a:hover {
  color: var(--accent) !important;
}

body.admin-page #content .content-wrapper .list-actions {
  display: flex !important;
  gap: 8px !important;
  align-items: center !important;
}

/* Legacy dashboard support */
body.admin-page .dashboard,
body.admin-page #content .dashboard,
body.admin-page #content > .dashboard,
#content .dashboard,
.dashboard {
  display: grid !important;
  grid-template-columns: repeat(3, 1fr) !important;
  gap: 24px !important;
  margin-top: 0 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
  padding: 0 !important;
  position: relative !important;
}

@media (max-width: 1400px) {
  .dashboard {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

@media (max-width: 900px) {
  .dashboard {
    grid-template-columns: 1fr !important;
  }
}

.dashboard .module {
  margin-bottom: 0 !important;
}

.dashboard .module table {
  background: transparent !important;
  border: none !important;
}

.dashboard .module table caption {
  background: rgba(59, 130, 246, 0.15) !important;
  border-bottom: 1px solid rgba(59, 130, 246, 0.3) !important;
  color: #3b82f6 !important;
  padding: 16px 20px !important;
  margin: 0 !important;
  font-size: 14px !important;
  font-weight: 600 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.05em !important;
  text-align: left !important;
}

.dashboard .module table caption a {
  color: #3b82f6 !important;
  text-decoration: none !important;
}

.dashboard .module table caption a:hover {
  color: #2563eb !important;
}

.dashboard .module th {
  background: transparent !important;
  border-bottom: 1px solid var(--border) !important;
  color: var(--text-secondary) !important;
  padding: 12px !important;
  font-weight: 600 !important;
  font-size: 13px !important;
}

.dashboard .module td {
  color: var(--text-primary) !important;
  border-bottom: 1px solid var(--border) !important;
  padding: 12px !important;
  font-size: 14px !important;
}

.dashboard .module td a {
  color: var(--text-primary) !important;
  text-decoration: none !important;
  font-weight: 500 !important;
}

.dashboard .module td a:hover {
  color: var(--accent) !important;
}

/* Change button in dashboard */
.dashboard .module td .changelink {
  border-radius: var(--radius-sm) !important;
  border: 1px solid var(--border) !important;
  padding: 6px 12px !important;
  font-weight: 500 !important;
  color: var(--text-primary) !important;
  background: var(--surface-elevated) !important;
  text-decoration: none !important;
  display: inline-flex !important;
  align-items: center !important;
  gap: 6px !important;
  height: 28px !important;
  font-size: 13px !important;
  transition: var(--transition) !important;
  box-shadow: var(--shadow-sm) !important;
}

.dashboard .module td .changelink::before {
  content: '' !important;
  width: 14px !important;
  height: 14px !important;
  display: inline-block !important;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7'%3E%3C/path%3E%3Cpath d='M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z'%3E%3C/path%3E%3C/svg%3E") !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
}

.dashboard .module td .changelink:hover {
  border-color: var(--border-hover) !important;
  background: var(--surface) !important;
  color: var(--text-primary) !important;
  transform: translateY(-1px) !important;
  box-shadow: var(--shadow-md) !important;
}

/* ===== SCROLLBAR ===== */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--bg);
}

::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--border-hover);
}

* {
  scrollbar-width: thin;
  scrollbar-color: var(--border) var(--bg);
}

/* ===== REQUIRED FIELD ===== */
.required {
  color: var(--danger) !important;
}

/* ===== READONLY FIELDS ===== */
.readonly {
  color: var(--text-tertiary) !important;
  background: rgba(255, 255, 255, 0.02) !important;
  padding: 10px 14px !important;
  border-radius: var(--radius-sm) !important;
}

/* ===== INLINE FORMS ===== */
.inline-group {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-md) !important;
  margin-bottom: 20px !important;
  overflow: hidden !important;
  box-shadow: var(--shadow-sm) !important;
}

.inline-group h2 {
  background: var(--surface-elevated) !important;
  border-bottom: 1px solid var(--border) !important;
  color: var(--text-primary) !important;
  padding: 14px 18px !important;
}

.inline-group .form-row {
  border-bottom: 1px solid var(--border) !important;
  padding: 14px 18px !important;
}

.inline-group .form-row:last-child {
  border-bottom: none !important;
}

/* ===== AUTOCOMPLETE ===== */
.select2-container--default .select2-selection--single {
  background: var(--surface-elevated) !important;
  border: 1px solid var(--border) !important;
  color: var(--text-primary) !important;
  border-radius: var(--radius-sm) !important;
  height: auto !important;
  padding: 4px !important;
}

.select2-container--default .select2-selection--single .select2-selection__rendered {
  color: var(--text-primary) !important;
  line-height: 32px !important;
}

.select2-dropdown {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-md) !important;
  box-shadow: var(--shadow-lg) !important;
}

.select2-results__option {
  color: var(--text-primary) !important;
  padding: 10px 14px !important;
}

.select2-results__option--highlighted {
  background: var(--accent) !important;
  color: white !important;
}

/* ===== CALENDAR WIDGET ===== */
.calendarbox,
.clockbox {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-md) !important;
  box-shadow: var(--shadow-lg) !important;
}

.calendarbox table th,
.clockbox h2 {
  background: var(--surface-elevated) !important;
  color: var(--text-primary) !important;
  padding: 12px !important;
}

.calendarbox table td a {
  color: var(--text-primary) !important;
  padding: 8px !important;
  border-radius: var(--radius-sm) !important;
}

.calendarbox table td.selected a {
  background: var(--accent) !important;
  color: white !important;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
  #header {
    padding: 0 !important;
  }
  
  #branding,
  #user-tools {
    float: none !important;
    padding: 12px 16px !important;
  }
  
  #user-tools {
    text-align: left !important;
    border-top: 1px solid var(--border) !important;
  }
  
  #content {
    padding: 20px !important;
  }
  
  .object-tools {
    float: none !important;
    margin-bottom: 16px !important;
  }
  
  .object-tools li {
    display: block !important;
    margin: 8px 0 !important;
  }
}
