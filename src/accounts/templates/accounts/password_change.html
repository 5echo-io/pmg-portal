{% extends "portal/base.html" %}
{% block title %}Change Password | PMG Portal{% endblock %}

{% block content %}
  <h1>Change Password</h1>
  
  <div class="panel">
    <form method="post">
      {% csrf_token %}
      
      <label>Current Password</label>
      {{ form.old_password }}
      {% if form.old_password.errors %}
        <div class="alert">{{ form.old_password.errors }}</div>
      {% endif %}
      
      <label>New Password</label>
      {{ form.new_password1 }}
      {% if form.new_password1.errors %}
        <div class="alert">{{ form.new_password1.errors }}</div>
      {% endif %}
      {% if form.new_password1.help_text %}
        <div class="muted" style="font-size: 12px; margin-top: 4px;">{{ form.new_password1.help_text }}</div>
      {% endif %}
      
      <label>Confirm New Password</label>
      {{ form.new_password2 }}
      {% if form.new_password2.errors %}
        <div class="alert">{{ form.new_password2.errors }}</div>
      {% endif %}
      
      {% if form.non_field_errors %}
        <div class="alert">{{ form.non_field_errors }}</div>
      {% endif %}
      
      <div style="display: flex; gap: 12px; margin-top: 20px;">
        <button type="submit">Change Password</button>
        <a href="/account/profile/" class="topbar-btn" style="display: inline-flex; align-items: center; text-decoration: none;">Cancel</a>
      </div>
    </form>
  </div>
{% endblock %}
